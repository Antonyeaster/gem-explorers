{% extends "base.html" %} 

{% block content %} 

{% load static %}

{% if is_paginated and page_obj.number == 1 %}
<section
  class="hero d-flex align-items-center"
  style="
    background-image: url('static/images/hero-image.jpg');"
>
  <div class="container">
    <div class="row">
      <div class="col-lg-6 offset-lg-3 text-center hero-content">
        <h1>Gem Explorers</h1>
        <p >
          Where we turn Tourists in Explorists!
          <br />
          Discover the beauty of our world, Gem Explorers is here to give you
          the information you need to embrace the hidden gems we have all around
          us. Sign up free today to join our curious community.
        </p>
      </div>
    </div>
  </div>
</section>
{% endif %}
<div class="container-fluid">
  <div class="row">
    <div class="col-12 mt-3 left">
      <div class="row">
        {% for post in post_list %}
        <div class="col-md-4">
          <div class="card mb-4">
            <div class="card-body">
              <div class="image-container">
                {% if 'placeholder' in post.featured_image.url %}
                <img
                  class="card-img-top"
                  src="https://res.cloudinary.com/dqphba816/image/upload/v1700259476/DSC3050-scaled_x7dfgm.jpg"
                  alt="Lake with mountain reflections"
                />
                {% else %}
                <img class="card-img-top" src="{{ post.featured_image.url}}" />
                {% endif %}
                <div class="image-flash">
                  <p class="author">Author: {{ post.author }}</p>
                </div>
              </div>
              <a href="{% url 'location_detail' post.slug %}" class="post-link">
                <h2 class="card-title">{{ post.title }}</h2>
                <p class="card-text">{{ post.excerpt }}</p>
              </a>
              <hr />
              <p class="card-text text-muted h6">
                {{ post.created_on }} <i class="fa-regular fa-thumbs-up ml-2"></i> {{post.number_of_likes}}
    
                
                <strong class="text-secondary ml-2"><i class="far fa-comments white"></i>
                    {{ post.comments.count }}</strong>
            </p>
            </div>
          </div>
        </div>
        {% if forloop.counter|divisibleby:6 %}
      </div>
      <div class="row">{% endif %} {% endfor %}</div>
    </div>
  </div>
  {% if is_paginated %}
  <nav aria-label="Page navigation">
    <ul class="pagination justify-content-center">
      {% if page_obj.has_previous %}
      <li>
        <a href="?page={{ page_obj.previous_page_number }}" class="page-link"
          >&laquo; PREV
        </a>
      </li>
      {% endif %} {% if page_obj.has_next %}
      <li>
        <a href="?page={{ page_obj.next_page_number }}" class="page-link">
          NEXT &raquo;</a
        >
      </li>

      {% endif %}
    </ul>
  </nav>
  {% endif %}
</div>
{% endblock content %}
